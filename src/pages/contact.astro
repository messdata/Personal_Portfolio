---
import Particles from "../components/welcome/Particles";
---

<!doctype html>
<html lang="en" style="margin: 0; padding: 0; height: 100%; overflow: hidden;">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact - Chinmay Patil</title>
    <style is:global>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0 !important;
        padding: 0 !important;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: #0a0a0a;
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
      }

      /* Floating Navigation */
      .floating-nav {
        position: fixed;
        top: 1rem;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 0.2rem;
        padding: 0.45rem 0.7rem;
        background: rgba(235, 231, 231, 0);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 2rem;
        box-shadow: 0 4px 20px rgba(42, 39, 39, 0.5);
      }

      .nav-link {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        padding: 0.5rem 1rem;
        border-radius: 1.5rem;
        transition: all 0.2s ease;
        font-size: 0.875rem;
        font-weight: 500;
      }

      .nav-link:hover {
        background: rgba(255, 255, 255, 0.1);
        color: white;
      }

      .nav-link.resume {
        border: 1px solid rgba(0, 255, 255, 0.4);
        background: rgba(0, 255, 255, 0.1);
      }

      /* Main Container */
      .contact-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        overflow-y: auto;
        padding: 9rem 1rem 2rem;
      }

      .contact-wrapper {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      @media (min-width: 1024px) {
        .contact-wrapper {
          grid-template-columns: 1fr 1.5fr;
          gap: 3rem;
        }
      }

      /* Section Styles */
      .section-title {
        font-size: 2rem;
        font-weight: 700;
        color: #ffff00;
        margin-bottom: 1rem;
        text-align: center;
      }

      @media (min-width: 768px) {
        .section-title {
          font-size: 2.5rem;
          text-align: left;
        }
      }

      .section-subtitle {
        font-size: 0.875rem;
        color: rgba(255, 255, 255, 0.6);
        margin-bottom: 2rem;
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }

      @media (min-width: 768px) {
        .section-subtitle {
          text-align: left;
        }
      }

      /* Social Cards */
      .social-cards {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .social-card {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1.25rem;
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.75rem;
        text-decoration: none;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .social-card:hover {
        transform: translateY(-4px);
        border-color: rgba(0, 255, 255, 0.3);
        box-shadow: 0 20px 25px -5px rgba(0, 255, 255, 0.15);
        background: rgba(0, 0, 0, 0.7);
      }

      .social-icon {
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
        background: linear-gradient(
          135deg,
          rgba(0, 255, 255, 0.2),
          rgba(0, 255, 0, 0.2)
        );
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        transition: all 0.3s ease;
      }

      .social-card:hover .social-icon {
        background: linear-gradient(
          135deg,
          rgba(0, 255, 255, 0.3),
          rgba(0, 255, 0, 0.3)
        );
        transform: rotate(6deg) scale(1.1);
      }

      .social-icon svg {
        width: 1.5rem;
        height: 1.5rem;
        color: #00ffff;
      }

      .social-info {
        flex: 1;
        min-width: 0;
      }

      .social-label {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 0.25rem;
      }

      .social-value {
        font-size: 0.875rem;
        font-weight: 500;
        color: rgba(255, 255, 255, 0.9);
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        transition: color 0.3s ease;
      }

      .social-card:hover .social-value {
        color: #00ffff;
      }

      .social-arrow {
        opacity: 0;
        transition: all 0.3s ease;
        color: #00ffff;
      }

      .social-card:hover .social-arrow {
        opacity: 1;
        transform: translateX(4px);
      }

      /* Info Card */
      .info-card {
        margin-top: 2rem;
        padding: 1.5rem;
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.75rem;
        backdrop-filter: blur(10px);
      }

      .info-card h3 {
        font-size: 0.875rem;
        font-weight: 600;
        color: white;
        margin-bottom: 0.75rem;
      }

      .info-card p {
        font-size: 0.75rem;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.6);
      }

      .info-card p + p {
        margin-top: 0.75rem;
        color: rgba(255, 255, 255, 0.4);
      }

      /* Form Styles */
      .form-container {
        padding: 2rem;
        background: rgba(188, 211, 201, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.75rem;
        backdrop-filter: blur(10px);
        padding-top: 0.5rem;
      }

      @media (min-width: 768px) {
        .form-container {
          padding: 2.5rem;
        }
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-label {
        display: block;
        font-size: 0.75rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 0.5rem;
      }

      .form-input,
      .form-select,
      .form-textarea {
        width: 100%;
        padding: 0.875rem 1rem;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.5rem;
        color: white;
        font-size: 0.875rem;
        transition: all 0.3s ease;
        outline: none;
        backdrop-filter: blur(5px);
      }

      .form-input::placeholder,
      .form-textarea::placeholder {
        color: rgba(255, 255, 255, 0.3);
      }

      .form-input:focus,
      .form-select:focus,
      .form-textarea:focus {
        border-color: rgba(0, 255, 255, 0.5);
        box-shadow: 0 0 0 3px rgba(0, 255, 255, 0.1);
        background: rgba(0, 0, 0, 0.4);
      }

      .form-textarea {
        resize: vertical;
        min-height: 120px;
      }

      .form-select {
        cursor: pointer;
      }

      .form-select option {
        background: #1a1a1a;
        color: white;
      }

      /* Submit Button */
      .submit-button {
        width: 100%;
        padding: 1rem 1.5rem;
        background: linear-gradient(135deg, #00ffff, #00ff00, #0000ff);
        border: none;
        border-radius: 0.5rem;
        color: #000;
        font-size: 0.875rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        margin-top: 1rem;
      }

      .submit-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 25px -5px rgba(0, 255, 255, 0.3);
      }

      .submit-button:active {
        transform: scale(0.98);
      }

      .submit-button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .submit-button .button-text {
        position: relative;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      /* Success/Error Messages */
      .message-box {
        padding: 1rem;
        border-radius: 0.5rem;
        margin-bottom: 1rem;
        font-size: 0.875rem;
        font-weight: 500;
        display: none;
      }

      .message-box.show {
        display: block;
        animation: slideDown 0.3s ease;
      }

      .message-box.success {
        background: rgba(0, 255, 0, 0.1);
        border: 1px solid rgba(0, 255, 0, 0.3);
        color: #00ff00;
      }

      .message-box.error {
        background: rgba(255, 0, 0, 0.1);
        border: 1px solid rgba(255, 0, 0, 0.3);
        color: #ff6b6b;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Loading Spinner */
      .spinner {
        width: 1rem;
        height: 1rem;
        border: 2px solid rgba(0, 0, 0, 0.3);
        border-top-color: #000;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Help Text */
      .help-text {
        text-align: center;
        font-size: 0.75rem;
        color: rgba(255, 255, 255, 0.4);
        margin-top: 1rem;
      }

      /* Mobile adjustments */
      @media (max-width: 767px) {
        .floating-nav {
          padding: 0.5rem 1rem;
          gap: 0.25rem;
        }

        .nav-link {
          font-size: 0.75rem;
          padding: 0.4rem 0.8rem;
        }

        .contact-container {
          padding: 5rem 1rem 2rem;
        }
      }

      /* Scrollbar */
      .contact-container::-webkit-scrollbar {
        width: 8px;
      }

      .contact-container::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
      }

      .contact-container::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 4px;
      }

      .contact-container::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.3);
      }
    </style>
  </head>
  <body>
    <!-- Particle Background -->
    <div
      style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 0;"
    >
      <Particles
        client:load
        particleColors={["#ffff00", "#00ffff", "#ff00ff"]}
        particleCount={200}
        particleSpread={20}
        speed={0.1}
        particleBaseSize={60}
        moveParticlesOnHover={true}
        particleHoverFactor={1.3}
        alphaParticles={true}
        disableRotation={false}
        sizeRandomness={1.5}
      />
    </div>

    <!-- Floating Navigation -->
    <nav class="floating-nav">
      <a
        href="/"
        class="nav-link"
        onclick="sessionStorage.setItem('skipIntro', 'true')">Home</a
      >
      <a href="/about" class="nav-link">About</a>
      <a href="/project" class="nav-link">Projects</a>
      <a href="/cv" class="nav-link resume">Resume</a>
    </nav>

    <!-- Main Content -->
    <main class="contact-container">
      <div class="contact-wrapper">
        <!-- Left Column: Social Links -->
        <aside>
          <h1 class="section-title">Let's Connect</h1>
          <p class="section-subtitle">Quick Channels</p>

          <div class="social-cards">
            <!-- Email -->
            <a
              href="https://mail.google.com/mail/u/0/#inbox?compose=new"
              class="social-card"
            >
              <div class="social-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  ></path>
                </svg>
              </div>
              <div class="social-info">
                <div class="social-label">Email</div>
                <div class="social-value">chinmay1997patil@gmail.com</div>
              </div>
              <svg
                class="social-arrow"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"></path>
              </svg>
            </a>

            <!-- LinkedIn -->
            <a
              href="https://www.linkedin.com/in/chinmay-patil-055a41104/"
              target="_blank"
              rel="noopener noreferrer"
              class="social-card"
            >
              <div class="social-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
                  ></path>
                </svg>
              </div>
              <div class="social-info">
                <div class="social-label">LinkedIn</div>
                <div class="social-value">Chinmay Patil</div>
              </div>
              <svg
                class="social-arrow"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"></path>
              </svg>
            </a>

            <!-- GitHub -->
            <a
              href="https://github.com/messdata"
              target="_blank"
              rel="noopener noreferrer"
              class="social-card"
            >
              <div class="social-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                  ></path>
                </svg>
              </div>
              <div class="social-info">
                <div class="social-label">GitHub</div>
                <div class="social-value">messdata</div>
              </div>
              <svg
                class="social-arrow"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>

          <!-- Info Card -->
          <div class="info-card">
            <h3>About me</h3>
            <p>
              6+ years in e-commerce & FMCG. Passionate about bridging business,
              data, and product. Located in Ireland, open to hybrid/remote
              opportunities.
            </p>
            <p>⏱️ Usually reply within 2-3 business days</p>
          </div>
        </aside>

        <!-- Right Column: Contact Form -->
        <section class="form-container">
          <div id="success-message" class="message-box success">
            ✓ Message sent successfully! I'll get back to you soon.
          </div>
          <div id="error-message" class="message-box error">
            ✗ Something went wrong. Please try again or email me directly.
          </div>

          <form id="contact-form">
            <div class="form-group">
              <label for="name" class="form-label">Full Name</label>
              <input
                type="text"
                id="name"
                name="name"
                class="form-input"
                placeholder="How do I call you?"
                required
              />
            </div>

            <div class="form-group">
              <label for="email" class="form-label">Email Address</label>
              <input
                type="email"
                id="email"
                name="email"
                class="form-input"
                placeholder="name@company.com"
                required
              />
            </div>

            <div class="form-group">
              <label for="subject" class="form-label">What's this about?</label>
              <select id="subject" name="subject" class="form-select">
                <option value="">Select a topic</option>
                <option value="Job Opportunity">Job Opportunity</option>
                <option value="Collaboration">Collaboration</option>
                <option value="Feedback">Feedback</option>
                <option value="Others">Others</option>
              </select>
            </div>

            <div class="form-group">
              <label for="message" class="form-label">Your Message</label>
              <textarea
                id="message"
                name="message"
                class="form-textarea"
                placeholder="Share me your thoughts.."
                required></textarea>
            </div>

            <button type="submit" class="submit-button" id="submit-button">
              <span class="button-text">
                <span id="button-text">Send Message</span>
                <svg
                  id="button-arrow"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 5l7 7-7 7"></path>
                </svg>
                <div id="button-spinner" class="spinner" style="display: none;">
                </div>
              </span>
            </button>

            <p class="help-text">
              We'll never share your email. Typically respond within 48 hours.
            </p>
          </form>
        </section>
      </div>
    </main>

    <script>
      const SUPABASE_URL = import.meta.env.PUBLIC_SUPABASE_URL;
      const SUPABASE_ANON_KEY = import.meta.env.PUBLIC_SUPABASE_ANON_KEY;

      const form = document.getElementById("contact-form");
      const submitButton = document.getElementById("submit-button");
      const buttonText = document.getElementById("button-text");
      const buttonArrow = document.getElementById("button-arrow");
      const buttonSpinner = document.getElementById("button-spinner");
      const successMessage = document.getElementById("success-message");
      const errorMessage = document.getElementById("error-message");

      form?.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Get form data
        const formData = new FormData(form);
        const subject = formData.get("subject") || "General Inquiry";

        // Combine subject with message for context
        const fullMessage = `Subject: ${subject}\n\n${formData.get("message")}`;

        const data = {
          name: formData.get("name"),
          email: formData.get("email"),
          message: fullMessage, // Only send fields that exist in the table
        };

        // Show loading state
        submitButton.disabled = true;
        buttonText.textContent = "Sending...";
        buttonArrow.style.display = "none";
        buttonSpinner.style.display = "block";
        successMessage.classList.remove("show");
        errorMessage.classList.remove("show");

        try {
          // Send to Supabase using REST API
          const response = await fetch(`${SUPABASE_URL}/rest/v1/messages`, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              apikey: SUPABASE_ANON_KEY,
              Authorization: `Bearer ${SUPABASE_ANON_KEY}`,
              Prefer: "return=minimal",
            },
            body: JSON.stringify(data),
          });

          if (!response.ok) {
            const errorText = await response.text();
            console.error("Supabase error:", errorText);
            throw new Error("Failed to send message");
          }

          // Show success
          successMessage.classList.add("show");
          form.reset();

          // Auto-hide success message and reset button after 3 seconds
          setTimeout(() => {
            successMessage.classList.remove("show");
            submitButton.disabled = false;
            buttonText.textContent = "Send Message";
            buttonArrow.style.display = "block";
            buttonSpinner.style.display = "none";
          }, 3000);
        } catch (error) {
          console.error("Error sending message:", error);
          errorMessage.classList.add("show");

          // Reset button
          submitButton.disabled = false;
          buttonText.textContent = "Send Message";
          buttonArrow.style.display = "block";
          buttonSpinner.style.display = "none";

          // Auto-hide error message after 5 seconds
          setTimeout(() => {
            errorMessage.classList.remove("show");
          }, 5000);
        }
      });
    </script>
  </body>
</html>
